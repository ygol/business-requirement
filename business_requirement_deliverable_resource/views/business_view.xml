<?xml version="1.0" encoding="utf-8"?>
<odoo>
        <!-- Search View Business Requirement Resource Line-->
    <!-- <record id="view_business_requirement_resource_search" model="ir.ui.view">
         <field name="name">business.requirement.resource.search</field>
         <field name="model">business.requirement.resource</field>
         <field name="arch" type="xml">
         <search string="Business Requirement Resource">
         <field name="business_requirement_id" string="Business Requirement" />
         <field name="business_requirement_partner_id" string="Customer" />
         <field name="business_requirement_project_id" string="Project" />
         <field name="product_id" string="Product" />
         <field name="state" string="State" />
         <group expand="0" string="Group By">
         <filter string="Business Requirement" icon="terp-go-home"
         context="{'group_by':'business_requirement_id'}" />
         <filter string="Customer " icon="terp-go-home"
         context="{'group_by':'business_requirement_partner_id'}" />
         <filter string="Project" icon="terp-go-home"
         context="{'group_by':'business_requirement_project_id'}" />
         <filter string="Product" icon="terp-go-home" context="{'group_by':'product_id'}" />
         <filter string="State" icon="terp-go-home" context="{'group_by':'state'}" />
         </group>
         </search>
         </field>
         </record> -->

        <!-- Action Business Requirement Resource Line-->
    <!-- <record model="ir.actions.act_window" id="action_requirement_resource_noedit">
         <field name="name">Requirement Resource</field>
         <field name="res_model">business.requirement.resource</field>
         <field name="view_mode">tree,graph</field>
         <field name="context">{
         'search_default_business_requirement_id': [active_id],
         'default_business_requirement_id': active_id,
         }</field>
         <field name="domain">[('business_requirement_id', '=', active_id)]</field>
         <field name="search_view_id" ref="view_business_requirement_resource_search"/>
         </record> -->

    <!-- Business Requirement Resource Form view-->
    <!-- <record id="view_business_requirement_resources_form" model="ir.ui.view">
         <field name="name">business.requirement.resource.form</field>
         <field name="model">business.requirement.resource</field>
         <field name="inherit_id" ref="business_requirement.view_business_requirement_form"/>
         <field name="arch" type="xml">
         <xpath expr='//div[@name="buttons"]' position='inside'>
         <br/>
         <button class="oe_inline oe_stat_button"
         type="object" name="open_resource_line" icon="fa-tasks" >
         <field name="rl_count" string="Resource"
         widget="statinfo"
         modifiers="{'readonly': true}"/>
         </button>
         </xpath>
         </field>
         </record> -->

    <record id="view_business_requirement_resource_tree" model="ir.ui.view">
        <field name="name">business.requirement.resource.tree</field>
        <field name="model">business.requirement.resource</field>
        <field name="arch" type="xml">
            <tree string="Business Requirement Resource" editable="bottom" default_order="sequence">
                <field name="sequence" widget="handle"/>
                <field name="state" invisible="0"/>
                <field name="business_requirement_id" domain="[('state', 'in', ('draft', 'confirmed'))]"
                    attrs="{'readonly':[('business_requirement_deliverable_id', '!=', False)]}"/>
                <field name="business_requirement_deliverable_id" attrs="{'readonly':[('state','not in',['draft', 'confirmed'])]}"
                    domain="[('business_requirement_id', '=', business_requirement_id)]"/>
                <field name="resource_type" attrs="{'readonly':[('state','not in',['draft', 'confirmed'])]}" />
                <field name="product_id" attrs="{'readonly':[('state','not in',['draft', 'confirmed'])]}"/>
                <field name="name" attrs="{'readonly':[('state','not in',['draft', 'confirmed'])]}"/>
                <field name="user_id" attrs="{'readonly':[('resource_type','=','procurement')]}"/>
                <field name="qty" attrs="{'readonly':[('state','not in',['draft', 'confirmed'])]}"/>
                <field name="uom_id"
                    attrs="{'readonly':[('state','not in',['draft', 'confirmed'])]}" />
            </tree>
        </field>
    </record>

    <!-- Pivot view Requirement Resource Line-->
    <record model="ir.ui.view" id="view_business_requirement_resource_pivot">
        <field name="name">Business requirement Resource</field>
        <field name="model">business.requirement.resource</field>
        <field name="arch" type="xml">
            <pivot string="Business Requirement">
            </pivot>
        </field>
    </record>

        <!-- Graph view Requirement Resources Line-->
    <record id="view_business_requirement_resource_graph" model="ir.ui.view">
        <field name="name">business.requirement.resource.pivot</field>
        <field name="model">business.requirement.resource</field>
        <field name="arch" type="xml">
            <graph string="Requirement Resources" stacked="True">
                <field name="business_requirement_id" type="row"/>
                <field name="business_requirement_deliverable_id" type="col"/>
                <field name="qty" type="measure"/>
            </graph>
        </field>
    </record>

        <!-- Action Requirement Resources Line-->
        <record model="ir.actions.act_window" id="action_requirement_resource">
            <field name="name">Requirement Resources</field>
            <field name="res_model">business.requirement.resource</field>
            <field name="view_mode">tree,graph,pivot</field>
            <field name="context">{}</field>
        </record>

        <!-- MenuItem Requirement Resources Line-->
        <menuitem
            id="menu_requirement_resource"
            groups="business_requirement.group_business_requirement_user"
            action="action_requirement_resource"
            parent="business_requirement.menu_business_requirement"
            sequence="22"/>

        <!-- <record id="view_business_requirement_deliverable_resource_form" model="ir.ui.view">
             <field name="name">business.requirement.deliverable.resource.form</field>
             <field name="model">business.requirement.deliverable</field>
             <field name="inherit_id" ref="business_requirement_deliverable.view_business_requirement_deliverable_form"/>
             <field name="type">form</field>
             <field name="priority">20</field>
             <field name="arch" type="xml">
             <xpath expr="/form/sheet/group[1]" position="after">
             <group string="Resource Lines">
             <field name="resource_ids"
             context="{'tree_view_ref':'business_requirement_deliverable.view_business_requirement_resource_tree',
             'default_business_requirement_id': business_requirement_id}"
             nolabel="1"> -->
                        <!--#RFC : define Tree view it's own record, rather
                        than defining it inside a field for better extensibility-->
        <!-- <tree editable="1" >
             <field name="sequence" widget="handle"/>
             <field name="state" invisible="1"/>
             <field name="resource_type"
             attrs="{'readonly':[('state','not in',['draft', 'confirmed'])]}"/>
             <field name="product_id" attrs="{'readonly':[('state','not in',['draft', 'confirmed'])]}"/>
             <field name="name" attrs="{'readonly':[('state','not in',['draft', 'confirmed'])]}"/>
             <field name="user_id"
             attrs="{'readonly':[('resource_type','=','procurement')]}"/>
             <field name="qty" attrs="{'readonly':[('state','not in',['draft', 'confirmed'])]}"/>
             <field name="uom_id" attrs="{'readonly':[('state','not in',['draft', 'confirmed'])]}"/>
             <field name="business_requirement_id"
             invisible="1" attrs="{'readonly':[('state','not in',['draft', 'confirmed'])]}"/>
             </tree>
             </field>
             </group>
             </xpath>
             </field>
             </record>
        -->
</odoo>
